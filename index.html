<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <link rel="stylesheet" href="style.css" />
        <title>Luna front end testing toolkit</title>
    </head>
    <body>
        <div class="column-1">
            <!-- main connection -->
            <div
                class="card card-shadow root-client-connection"
                style="background-color: #ff958a"
            >
                <h3 class="card-title">Server Connection Status</h3>
                <div class="row">
                    <input
                        type="text"
                        placeholder="Base Server Url"
                        value="localhost:8000"
                        id="baseUrlInput"
                    />
                    <button onclick="onConnectButtonClicked()">connect</button>
                </div>
                <select name="" id="websocketSelect">
                    <option value="monitor">monitor</option>
                    <option value="engine">engine</option>
                </select>
                <div id="clientConnectionStatusLabel">Not Connected</div>
            </div>
            <!-- Inputs -->
            <div class="card card-shadow root-proximity-input">
                <h3 class="card-title">Proximity Input</h3>
                <div class="row">
                    <p id="proximityLabel">10</p>
                    <input
                        type="range"
                        min="0"
                        max="200"
                        value="10"
                        id="proximitySlider"
                    />
                </div>
                <div class="row">
                    <input type="checkbox" id="proximityCheckbox" />
                    <p>Start Sending</p>
                    <span
                        class="confirmation-animation"
                        id="proximityConfirmation"
                        style="color: white"
                        >Sent!</span
                    >
                </div>
            </div>
            <!-- qr scanner input -->
            <div class="card card-shadow root-qr-scanner">
                <h3 class="card-title">QR Scanner</h3>
                <div id="qr-reader"></div>
                <div id="qr-reader-results"></div>
            </div>
            <!-- event sender -->
            <div class="root-event-sender card card-shadow">
                <div class="row">
                    <h3 class="card-title">Event Sender</h3>
                </div>
                <div class="grid">
                    <p>event:</p>
                    <input
                        type="text"
                        id="sendingEvent"
                        placeholder="event name"
                        value="lunaFinishedSpeaking"
                    />
                    <p>payload:</p>
                    <input
                        type="text"
                        id="sendingPayload"
                        placeholder="event payload"
                        value=""
                    />
                </div>
                <button onclick="onSendEventButtonClicked()">Send</button>
            </div>
        </div>
        <div class="column-2">
            <div class="card card-shadow root-status-tracker">
                <div class="row">
                    <h3 class="card-title">Status Tracker</h3>
                </div>
                <div class="two-panel">
                    <div class="status-badges-stack">
                        <div class="status-badge">
                            <h5>Luna Mode:</h5>
                            <div id="modeLabel">Active</div>
                        </div>
                        <div class="status-badge">
                            <h5>Luna State:</h5>
                            <div id="stateLabel">Idle</div>
                        </div>
                    </div>
                    <div class="faded-bg" id="statusList">Uninitialised</div>
                </div>
            </div>
            <div class="card card-shadow root-event-log">
                <div class="row">
                    <h3 class="card-title">Event Log</h3>
                </div>
                <div class="row">
                    <input
                        type="text"
                        id="eventFilter"
                        value="playDialogue,lunaFinishedSpeaking,lunaResponded,updateLunaState,triggerVision,qrCodeScanned,showProduct,triggerTelegram,restart,updateTranscription,playRecordedAudio,timer,showNotificationAlert,showTooltip,updateLunaMode,updateCurrentSessionId,userReturnedFromPause,register,syncEnvironment"
                    />
                </div>
                <div class="row">
                    <button
                        class="event-filters"
                        style="background-color: #d1d1d1"
                    >
                        All
                    </button>
                    <button
                        class="event-filters"
                        style="background-color: #affac2"
                    >
                        Conversation
                    </button>
                </div>
                <div id="events"></div>
            </div>
        </div>
        <div class="column-3">
            <div class="card card-shadow root-mock-unity">
                <div class="row">
                    <h3 class="card-title">Mock Unity</h3>
                </div>
                <div id="mockUnityContainer"></div>
            </div>
        </div>
        <!-- external scripts -->
        <script src="https://unpkg.com/html5-qrcode"></script>
        <!-- scripts -->
        <script src="./src/states.js"></script>
        <script src="./src/sockets.js"></script>
        <script src="./src/MockUnity.js"></script>
        <script src="./main.js"></script>
    </body>
</html>
